# ずんだもんBot 使い方ガイド

## 使い方
1. **Botの起動**:
   - Discordサーバーの特定チャンネルで`!zunda start`と入力して、ずんだもんBotを起動してね。
   - 起動後、「ずんだもん」とチャットに書いて、質問やおしゃべりを送ってね！例: 「ずんだもん、元気？」

2. **質問の送信**:
   - 「ずんだもん」とチャットに書いて、質問や会話内容を入力（例: 「ずんだもん、今日の気分は？」）。
   - ずんだもんが東北弁で「ぼく、元気いっぱいなのだ！」のように可愛く答えるよ！

3. **通知の管理**:
   - 通知がうるさいと感じたら、`!zunda notify off`で通知をオフにできるよ。
   - 通知を元に戻したい場合は、`!zunda notify on`でオンに。

## 待ち状態について
ずんだもんBotが「待ち状態」になる場合があるけど、以下のような理由だよ。心配しないでね！

- **ログ整理中の待ち状態**:
  - ずんだもんが「ぼく、過去の記憶を整理してるのだ…少し待ってほしいのだ！」と表示する場合、チャットログを整理（要約）しているときだよ。
  - これは、過去の会話（20KBごと）をまとめて、東北弁で簡潔に要約している状態なのだ。数秒～数分待てば、正常に動作を再開するから、気長に待ってあげてね！

- **レート制限による待ち状態**:
  - ずんだもんが「ぼく、ちょっと多忙すぎちゃったのだ…1分待ってほしいのだ！」と表示する場合、DiscordやDeepSeek R1のレート制限に引っかかっているときだよ。
  - Discordは1秒に50リクエスト、10分に10,000リクエストの制限があり、ずんだもんは1秒または30秒待機して応答するよう設計されているよ。1分待てば、また使えるようになるから安心してね！

- **トークン制限による待ち状態**:
  - ずんだもんが「ぼく、今日は一日中頑張ったから適当に答えるのだ…」と表示する場合、DeepSeek R1のトークン使用量（7,500トークン/日）が上限に達しているときだよ。
  - この場合、24時間待つとトークンがリセットされて、通常の応答に戻るのだ。それまでは、軽量モデル（Mixtral 8x7B）で簡易的な東北弁応答が返るから、楽しんでおしゃべりしてね！

## 注意
- **処理の遅延**:
  - Replitの無料枠（CPU、512MB RAM）やDeepSeek R1のレスポンス速度により、質問に答えるまで少し時間がかかる場合があるよ。気長に待ってあげてね。
- **トークン制限**:
  - 1日に7,500トークンまでしか使えないため、活発に質問すると「適当に答える」状態になることがあるけど、24時間待てば元に戻るから安心してね。
- **チャンネルの指定**:
  - ずんだもんBotは特定チャンネル（`CHANNEL_ID`で設定）でのみ動作するから、他のチャンネルでは使えないよ。サーバー管理者に確認してね。

## よくある質問（FAQ）
- **「待ち状態になったけど、どうしたらいい？」**:
  - 上の「待ち状態について」を参考にして、ログ整理（数秒～数分）、レート制限（1分）、トークン制限（24時間）のどれかを待つだけだよ。ずんだもんが元気に戻るまで、気長に待ってあげてね！
- **「通知がうるさいけど、どうする？」**:
  - `!zunda notify off`で通知をオフにできるよ。元に戻したい場合は、`!zunda notify on`だよ！

## 楽しくおしゃべりしよう！
ずんだもんと楽しくおしゃべりして、元気いっぱいな東北弁で答えてもらうために、気軽に質問してね！ぼく、ずんだもんはいつも君と話すのが楽しみなのだ！
